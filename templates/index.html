<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speech Transcription and Translation System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
        }
        header {
            background-color: #004d99;
            color: white;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 2rem auto;
        }
        .feature {
            background: white;
            margin-bottom: 1.5rem;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            display: flex;
            align-items: center;
        }
        .feature i {
            font-size: 2rem;
            color: #004d99;
            margin-right: 1rem;
        }
        .feature:hover {
            transform: scale(1.02);
        }
        .feature h2 {
            color: #333;
            margin-top: 0;
        }
        .feature p {
            color: #555;
            line-height: 1.6;
        }
        footer {
            background-color: #004d99;
            color: white;
            text-align: center;
            padding: 1rem;
            position: fixed;
            bottom: 0;
            width: 100%;
            box-shadow: 0 -2px 4px rgba(0,0,0,0.1);
        }
        footer p {
            margin: 0;
        }
        form {
            margin-bottom: 1.5rem;
        }
        input[type="file"], textarea {
            margin-bottom: 1rem;
        }
        textarea {
            width: 100%;
            height: 100px;
        }
        button {
            padding: 0.5rem 1rem;
            color: white;
            background-color: #004d99;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #003366;
        }
        @media (max-width: 768px) {
            .container {
                width: 95%;
            }
            header, footer {
                padding: 1rem;
            }
        }
        .hidden {
            display: none;
        }
        .transcription-status {
            margin-top: 1rem;
            font-style: italic;
        }
    </style>
</head>
<body>
    <header>
        <h1>Speech Transcription and Translation System</h1>
    </header>
    <div class="container">
       
<!-- Speech-to-Text Converter -->
<div class="feature" id="speech-to-text">
    <i class="fas fa-microphone"></i>
    <div>
        <h2>Speech-to-Text Converter</h2>
        <form action="/speech-to-text" method="post" enctype="multipart/form-data">
            <input type="file" name="audio" accept="audio/*" required>
            <button type="submit">Convert Speech to Text</button>
        </form>
        <!-- Display transcription result -->
        <div id="speech-to-text-output">
            {% if speech_to_text_output %}
                <h3>Transcription:</h3>
                <textarea readonly rows="10" cols="50">{{ speech_to_text_output }}</textarea>
            {% endif %}
        </div>
    </div>
</div>



        <!-- Text-to-Speech -->
      <!-- Text-to-Speech -->
<div class="feature" id="text-to-speech">
    <i class="fas fa-volume-up"></i>
    <div>
        <h2>Text-to-Speech</h2>
        <form id="textToSpeechForm" action="/text-to-speech" method="post">
            <textarea name="text" placeholder="Enter text here..." required></textarea>
            <button type="submit">Convert Text to Speech</button>
        </form>
        <!-- Audio output -->
        <div id="text-to-speech-output">
            <audio id="audioPlayer" controls style="display: none;"></audio>
        </div>
    </div>
</div>

<script>
    document.getElementById('textToSpeechForm').onsubmit = async (e) => {
        e.preventDefault(); // Prevents the form from submitting the default way

        const formData = new FormData(e.target);
        const response = await fetch('/text-to-speech', {
            method: 'POST',
            body: formData
        });

        if (response.ok) {
            // Convert the response to a Blob and create a URL for it
            const blob = await response.blob();
            const url = URL.createObjectURL(blob);

            // Get the audio player and set the source to the blob URL
            const audioPlayer = document.getElementById('audioPlayer');
            audioPlayer.style.display = 'block'; // Make the player visible
            audioPlayer.src = url;
            audioPlayer.play(); // Automatically play the audio
        } else {
            alert("Failed to generate speech.");
        }
    };
</script>


       <!-- Automated Transcription -->
<div class="feature" id="automated-transcription">
    <i class="fas fa-file-alt"></i>
    <div>
        <h2>Automated Transcription</h2>
        <form action="/automated-transcription" method="post" enctype="multipart/form-data">
            <input type="file" name="audio" accept="audio/*" required>
            <button type="submit">Get Automated Transcription</button>
        </form>
        <!-- Display transcription result -->
        <div id="automated-transcription-output">
            {% if automated_transcription_output %}
            <textarea readonly rows="10" cols="50"> {{ automated_transcription_output }}</textarea>
            {% endif %}
        </div>
    </div>
</div>


<!-- Real-Time Transcription -->
<div class="feature" id="real-time-transcription">
    <i class="fas fa-clock"></i>
    <div>
        <h2>Real-Time Transcription</h2>
        <p>Live transcription during meetings or conversations.</p>
        
        <button id="start-btn" onclick="startRealTimeTranscription()">Start Real-Time Transcription</button>
        <br><br>
        <textarea id="real-time-transcription-output" rows="10" cols="50" placeholder="Transcription will appear here..." readonly></textarea>
        <p id="real-time-status" class="transcription-status hidden">Transcription in progress...</p>
    </div>
</div>

<script>
    function startRealTimeTranscription() {
        document.getElementById('real-time-status').classList.remove('hidden');
        fetch('/real-time-transcription', {
            method: 'POST'
        })
        .then(response => response.json())
        .then(data => {
            document.getElementById('real-time-status').classList.add('hidden');
            document.getElementById('real-time-transcription-output').value = data.transcription;
        })
        .catch(error => {
            document.getElementById('real-time-transcription-output').value = 'Error during transcription: ' + error;
        });
    }
</script>

<!-- 5. Speaker Identification  -->

<div class="feature" id="speaker-identification">
    <i class="fas fa-users"></i>
    <div>
        <h2>Speaker Identification</h2>
        <form action="/speaker-identification" method="post" enctype="multipart/form-data">
            <input type="file" name="audio" accept="audio/*" required>
            <button type="submit">Identify Speakers</button>
        </form>
        
        <div id="speaker-identification-output">
            {% if speaker_identification_output %}
            <textarea readonly rows="10" cols="50">{{ speaker_identification_output }}</textarea>
            {% endif %}
        </div>
    </div>
</div>


        <!-- Audio & Video Integration -->
        <div class="feature" id="audio-video-integration">
            <i class="fas fa-film"></i>
            <div>
                <h2>Audio & Video Integration</h2>
                <form action="/audio-video-integration" method="post" enctype="multipart/form-data">
                    <input type="file" name="media" accept="audio/,video/" required>
                    <button type="submit">Import</button>
                </form>
                <div id="audio-video-integration-output"></div>
            </div>
        </div>

    <!-- Search and Indexing with Text File Upload -->
    <div class="feature" id="search-indexing">
        <i class="fas fa-search"></i>
        <div>
            <h2>Search and Indexing</h2>
            <form action="/search-indexing" method="post" enctype="multipart/form-data">
                <textarea name="search-query" placeholder="Enter search query..." required></textarea>
                <label for="file-upload">Upload a .txt file:</label>
                <input type="file" name="file" id="file-upload" accept=".txt" required>
                <button type="submit">Search Transcripts</button>
            </form>
            <div id="search-indexing-output">
                {% if search_result %}
                    <p>{{ search_result }}</p>
                {% endif %}
            </div>
        </div>
    </div>


       <!-- Editing Tools -->
<div class="feature" id="editing-tools">
    <i class="fas fa-edit"></i>
    <div>
        <h2>Editing Tools</h2>
        <!-- Form for file upload -->
        <form action="/editing-tools" method="post" enctype="multipart/form-data">
            <input type="file" name="file" accept=".txt" required>
            <button type="submit">Upload File</button>
        </form>

        <!-- Editable Text Area for file content -->
        {% if file_content %}
            <form action="/save-edited-text" method="post">
                <textarea name="edited_text" rows="10" cols="50">{{ file_content }}</textarea>
                <input type="hidden" name="file_name" value="{{ file_name }}">
                <button type="submit">Save Changes</button>
            </form>
        {% endif %}

        <!-- Output or success message -->
        <div id="editing-tools-output">
            {% if success_message %}
                <p style="color: green;">{{ success_message }}</p>
            {% endif %}
        </div>
    </div>
</div>


      <!-- Collaboration Features -->
      <div class="feature" id="collaboration-features">
        <i class="fas fa-share-alt"></i>
        <div>
            <h2>Collaboration Features</h2>
            <form action="/collaboration-features" method="post">
                <input type="text" name="email" placeholder="Enter email to share with..." required>
                <button type="submit">Share Transcription</button>
            </form>
            <div id="collaboration-features-output">
                {% if collaboration_features_output %}
                    <p>{{ collaboration_features_output }}</p>
                {% endif %}
            </div>
        </div>
    </div>
        


        <!-- Export Options -->
<div class="feature" id="export-options">
    <i class="fas fa-file-export"></i>
    <div>
        <h2>Export Options</h2>
        <form action="/export-options" method="post">
            <textarea name="text" placeholder="Enter text here..." required></textarea>
            <select name="format">
                <option value="pdf">PDF</option>
                <option value="docx">DOCX</option>
                <option value="txt">TXT</option>
            </select>
            <button type="submit">Export Transcription</button>
        </form>
        <div id="export-options-output"></div>
    </div>
</div>


        <!-- Privacy and Security -->
<div class="feature" id="privacy-security">
    <i class="fas fa-lock"></i>
    <div>
        <h2>Privacy and Security</h2>
        <p>We prioritize your privacy and ensure your data is protected with industry-standard encryption.</p>
        <form action="/privacy-security" method="post">
            <textarea name="data" placeholder="Enter data to encrypt..." required></textarea>
            <input type="checkbox" name="enable-encryption" id="enable-encryption">
            <label for="enable-encryption">Enable Encryption</label>
            <button type="submit">Encrypt Data</button>
        </form>
        <div id="privacy-security-output">
            {% if encrypted_data %}
                <h3>Encrypted Data</h3>
                <textarea readonly>{{ encrypted_data }}</textarea>
                <h3>Encryption Key</h3>
                <textarea readonly>{{ key }}</textarea>
            {% endif %}
        </div>
    </div>
</div>

<!-- Decrypt Data -->
<div class="feature" id="decrypt-data">
    <i class="fas fa-unlock"></i>
    <div>
        <h2>Decrypt Data</h2>
        <form action="/decrypt" method="post">
            <textarea name="cipher_text" placeholder="Enter encrypted data..." required></textarea>
            <input type="text" name="key" placeholder="Enter encryption key..." required>
            <button type="submit">Decrypt Data</button>
        </form>
        <div id="decrypt-data-output">
            {% if decrypted_data %}
                <h3>Decrypted Data</h3>
                <textarea readonly>{{ decrypted_data }}</textarea>
            {% endif %}
        </div>
    </div>
</div>



       
<!-- Google Drive Integration -->
        <div class="feature" id="google-drive-integration">
            <i class="fas fa-cloud-upload-alt"></i>
            <div>
                <h2>Google Drive Integration</h2>
                <form action="/upload-to-drive" method="post" enctype="multipart/form-data">
                    <input type="file" name="file" required>
                    <button type="submit">Upload to Google Drive</button>
                </form>
                <div id="google-drive-output"></div>
            </div>
        </div>
    </div>

<!-- Uploaded Files Section -->
<div id="uploaded-files-section">
    <h2>Uploaded Files</h2>
    <button id="list-files-btn">Load Files from Google Drive</button>
    <ul id="uploaded-files-list">
        {% for file in uploaded_files %}
        <li>{{ file }}</li>
        {% endfor %}
    </ul>
</div>

<script>
    document.getElementById('list-files-btn').onclick = async () => {
        const response = await fetch('/list-files');

        if (response.ok) {
            const files = await response.json();
            const listElement = document.getElementById('uploaded-files-list');
            listElement.innerHTML = ''; // Clear existing list

            files.forEach(file => {
                const listItem = document.createElement('li');
                listItem.textContent = file.name; // Display file name
                listElement.appendChild(listItem);
            });
        } else {
            alert("Failed to load files.");
        }
    };
</script>
    <footer>
        <p>&copy; 2024 Speech Transcription and Translation System</p>
    </footer>
   
    <script>
        function startRealTimeTranscription() {
            document.getElementById('real-time-status').classList.remove('hidden');
            fetch('/real-time-transcription', {
                method: 'POST'
            }).then(response => response.text()).then(data => {
                document.getElementById('real-time-transcription-output').innerHTML = data;
                document.getElementById('real-time-status').classList.add('hidden');
            }).catch(error => console.error('Error:', error));
        }
    </script>
</body>
</html>

